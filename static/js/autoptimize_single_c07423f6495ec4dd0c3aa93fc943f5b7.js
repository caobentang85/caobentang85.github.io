var winWidth=jQuery(window).width();var loadedInitially=false
var myChart;var amount,withdrawal,returns,duration;var amountSlider=document.getElementById('amount-rangslider');var withdrawalSlider=document.getElementById('withdrawal-rangslider');var expectedReturnSlider=document.getElementById('exp-return-rangslider');var timeSlider=document.getElementById('time-rangslider');accordion();function footerAcc(){jQuery(".popular-links .title").click(function(){jQuery(this).next(".links-wrap").stop(true,true).slideToggle();jQuery(this).toggleClass("active")})}
function mobMenu(){jQuery(".cp-header .menu-btn").on("click",function(){jQuery(this).toggleClass("open");jQuery(".cp-header nav").toggleClass("open")})}
jQuery(function(){if(winWidth<767){footerAcc();mobMenu()}
if(jQuery(".scroll-to-tab").length){var topPos=jQuery(".scroll-to-tab").offset().top;scrollToSection();}
var windowScrollPos;jQuery(window).on("scroll",function(e){windowScrollPos=jQuery(window).scrollTop();if(jQuery(this).scrollTop()>=70){jQuery(".cp-header").addClass("sticky")}else{jQuery(".cp-header").removeClass("sticky")}
if(winWidth>767){if(windowScrollPos>topPos){jQuery(".scroll-to-tab").addClass("sticky-me");}else{jQuery(".scroll-to-tab").removeClass("sticky-me");}}})});function accordion(){jQuery('.acc-head').click(function(e){var $this=jQuery(this);var parentElm=$this.closest(".acc-item");if($this.hasClass("active")){parentElm.find(".acc-cont").removeClass("active");$this.removeClass("active");parentElm.find(".acc-cont").slideUp()}else{jQuery(".cp-accordion").find(".acc-cont").removeClass("active");jQuery(".cp-accordion").find(".acc-head").removeClass("active");jQuery(".cp-accordion").find(".acc-cont").slideUp();parentElm.find(".acc-cont, .acc-head").addClass("active");parentElm.find(".acc-cont").slideDown()}})}
function slidersInit(){noUiSlider.create(amountSlider,{start:100000,connect:'lower',step:10000,range:{'min':10000,'max':10000000},format:{to:(v)=>parseFloat(v).toFixed(0),from:(v)=>parseFloat(v).toFixed(0)}});noUiSlider.create(withdrawalSlider,{start:1000,connect:'lower',step:500,range:{'min':500,'max':5000000},format:{to:(v)=>parseFloat(v).toFixed(0),from:(v)=>parseFloat(v).toFixed(0)}});noUiSlider.create(expectedReturnSlider,{start:12,connect:'lower',range:{'min':1,'max':30},format:{to:(v)=>parseFloat(v).toFixed(0),from:(v)=>parseFloat(v).toFixed(0)}});noUiSlider.create(timeSlider,{start:12,connect:'lower',range:{'min':1,'max':30},format:{to:(v)=>parseFloat(v).toFixed(0),from:(v)=>parseFloat(v).toFixed(0)}});amountSlider.noUiSlider.on('update',function(values,handle){amount=Number(values[handle]);document.getElementById("amt-val").value=values[handle];calculateSwp(withdrawal,returns,duration)});withdrawalSlider.noUiSlider.on('update',function(values,handle){withdrawal=Number(values[handle]);document.getElementById("withdrawal-val").value=values[handle];calculateSwp(withdrawal,returns,duration)});expectedReturnSlider.noUiSlider.on('update',function(values,handle){returns=Number(values[handle]);document.getElementById("exp-return-val").value=values[handle];calculateSwp(withdrawal,returns,duration)});timeSlider.noUiSlider.on('update',function(values,handle){duration=Number(values[handle]);document.getElementById("time-val").value=values[handle];calculateSwp(withdrawal,returns,duration)});calculateSwp(withdrawal,returns,duration)}
function inputChange(value){amount=Number(document.getElementById("amt-val").value);withdrawal=Number(document.getElementById("withdrawal-val").value);returns=Number(document.getElementById("exp-return-val").value);duration=Number(document.getElementById("time-val").value);switch(value){case 1:if(amount!=0&&amount!=''){setTimeout(()=>{amountSlider.noUiSlider.set(amount);},3000);}
break;case 2:if(withdrawal!=0&&withdrawal!=''){setTimeout(()=>{withdrawalSlider.noUiSlider.set(withdrawal);},2000);}
break;case 3:if(returns!=0&&returns!=''){setTimeout(()=>{expectedReturnSlider.noUiSlider.set(returns);},2000);}
break;case 4:if(duration!=0&&duration!=''){setTimeout(()=>{timeSlider.noUiSlider.set(duration);},2000);}
break;}}
function calculateSwp(monthlyWithdrawal,expectedReturns,tenure){let durationInMonthhs=tenure*12;var BalanceAmount=amount;let finalValue=0;let monthlyInterest=0;for(let i=0;i<durationInMonthhs;i++){BalanceAmount=BalanceAmount-monthlyWithdrawal;monthlyInterest=(expectedReturns/(12*100))*BalanceAmount;BalanceAmount+=monthlyInterest;}
finalValue=BalanceAmount;totalWithdrawal=monthlyWithdrawal*durationInMonthhs;document.getElementById('total_amount').innerText=numberWithCommas(Math.round(amount));document.getElementById('withdrawal_amount').innerText=numberWithCommas(Math.round(totalWithdrawal));document.getElementById('final_value').innerText=numberWithCommas(Math.round(finalValue));}
slidersInit();function numberWithCommas(x){return x.toString().split('.')[0].length>3?x.toString().substring(0,x.toString().split('.')[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+x.toString().substring(x.toString().split('.')[0].length-3):x.toString();}
jQuery("#calc_dropdown").click(function(){jQuery(".dropdown-menu").toggleClass("show");});jQuery(function(){jQuery('.lyt-calculator .question-list a[href*=\\#]').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=jQuery(this.hash);target=target.length?target:jQuery('[name='+this.hash.slice(1)+']');if(target.length){jQuery('html,body').animate({scrollTop:target.offset().top-100},1000);return false;}}});});